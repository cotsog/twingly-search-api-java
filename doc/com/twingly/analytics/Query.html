<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_09) on Fri Dec 28 17:09:59 CET 2012 -->
<title>Query</title>
<meta name="date" content="2012-12-28">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Query";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/twingly/analytics/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/twingly/analytics/Post.html" title="class in com.twingly.analytics"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/twingly/analytics/Query.SearchType.html" title="enum in com.twingly.analytics"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/twingly/analytics/Query.html" target="_top">Frames</a></li>
<li><a href="Query.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.twingly.analytics</div>
<h2 title="Class Query" class="title">Class Query</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.twingly.analytics.Query</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Query</span>
extends java.lang.Object</pre>
<div class="block">A class used to make one or more requests to Twingly's REST API.
 To use the API you need an API key. To obtain an API key, send an email to info@twingly.com
 <br>
 Example usage:
 <pre>
 Query q = new Query(yourApiKey);                // create a request object using your api key
 q.setDocumentLang("en");                        // only search for posts in english
 q.setApproved(true);                            // only match posts marked as approved
 Result result = q.makeRequest("spotify");       // find posts containing the word spotify
 for (Post p : result.getPosts())
     System.out.println(p.getUrl());             // print the url for each post
 </pre> 
 Later you can repeat the search for any new posts that have come in since your last request:
 <pre>
 q.setStartTime(result.getNewestPost());         // only search for posts newer than the last result
 result = q.makeRequest("spotify");              // request new posts containing the word spotify
  
 </pre>

 A Query object can be reused for several requests</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>marcus@twingly.com</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../com/twingly/analytics/Query.SearchType.html" title="enum in com.twingly.analytics">Query.SearchType</a></strong></code>
<div class="block">Enum for the possible search types</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/twingly/analytics/Query.html#Query(java.lang.String)">Query</a></strong>(java.lang.String&nbsp;apiKey)</code>
<div class="block">Creates a query object</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/twingly/analytics/Query.html#getDocumentLang()">getDocumentLang</a></strong>()</code>
<div class="block">Gets the document language, or the empty string if none is set</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Date</code></td>
<td class="colLast"><code><strong><a href="../../../com/twingly/analytics/Query.html#getEndTime()">getEndTime</a></strong>()</code>
<div class="block">Gets the end time for the query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/twingly/analytics/Query.SearchType.html" title="enum in com.twingly.analytics">Query.SearchType</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/twingly/analytics/Query.html#getSearchType()">getSearchType</a></strong>()</code>
<div class="block">Returns the search type (blogs/microblogs)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Date</code></td>
<td class="colLast"><code><strong><a href="../../../com/twingly/analytics/Query.html#getStartTime()">getStartTime</a></strong>()</code>
<div class="block">Gets the start time for the query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/twingly/analytics/Query.html#isApproved()">isApproved</a></strong>()</code>
<div class="block">Returns the approved flag for this query as set by setApproved</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/twingly/analytics/Result.html" title="class in com.twingly.analytics">Result</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/twingly/analytics/Query.html#makeRequest(java.lang.String)">makeRequest</a></strong>(java.lang.String&nbsp;search)</code>
<div class="block">Makes a request query to the REST API using the parameters you have previously set.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/twingly/analytics/Query.html#setApproved(boolean)">setApproved</a></strong>(boolean&nbsp;approved)</code>
<div class="block">Sets the approved flag for the query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/twingly/analytics/Query.html#setDocumentLang(java.lang.String)">setDocumentLang</a></strong>(java.lang.String&nbsp;lang)</code>
<div class="block">Sets the language for the query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/twingly/analytics/Query.html#setEndTime(java.util.Date)">setEndTime</a></strong>(java.util.Date&nbsp;endTime)</code>
<div class="block">Sets the end time for the query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/twingly/analytics/Query.html#setSearchType(com.twingly.analytics.Query.SearchType)">setSearchType</a></strong>(<a href="../../../com/twingly/analytics/Query.SearchType.html" title="enum in com.twingly.analytics">Query.SearchType</a>&nbsp;searchType)</code>
<div class="block">Sets the search type; if you want search results from blogs or microblogs</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/twingly/analytics/Query.html#setStartTime(java.util.Date)">setStartTime</a></strong>(java.util.Date&nbsp;startTime)</code>
<div class="block">Sets the start time for the query.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Query(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Query</h4>
<pre>public&nbsp;Query(java.lang.String&nbsp;apiKey)
      throws org.xml.sax.SAXException</pre>
<div class="block">Creates a query object</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>apiKey</code> - The API key</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.xml.sax.SAXException</code> - If the XML parser couldn't be initialized</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setDocumentLang(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDocumentLang</h4>
<pre>public&nbsp;void&nbsp;setDocumentLang(java.lang.String&nbsp;lang)</pre>
<div class="block">Sets the language for the query. Only blogposts in the given language will be returned.
 The format is a two letter ISO language code, for example 'en' for English, 'sv' for Swedish,
 'de' for German and so on.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>lang</code> - The language code</dd></dl>
</li>
</ul>
<a name="getDocumentLang()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDocumentLang</h4>
<pre>public&nbsp;java.lang.String&nbsp;getDocumentLang()</pre>
<div class="block">Gets the document language, or the empty string if none is set</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The document language</dd></dl>
</li>
</ul>
<a name="setStartTime(java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStartTime</h4>
<pre>public&nbsp;void&nbsp;setStartTime(java.util.Date&nbsp;startTime)</pre>
<div class="block">Sets the start time for the query. Only blogposts with a date later than this date will be returned.
 All dates are UTC.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>startTime</code> - The start time</dd></dl>
</li>
</ul>
<a name="getStartTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStartTime</h4>
<pre>public&nbsp;java.util.Date&nbsp;getStartTime()</pre>
<div class="block">Gets the start time for the query. Only blogposts with a date later than this date will be returned.
 All dates are UTC.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The start time</dd></dl>
</li>
</ul>
<a name="setEndTime(java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEndTime</h4>
<pre>public&nbsp;void&nbsp;setEndTime(java.util.Date&nbsp;endTime)</pre>
<div class="block">Sets the end time for the query. Only blogposts with a date earlier than this date will be returned.
 All dates are UTC.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>endTime</code> - The start time</dd></dl>
</li>
</ul>
<a name="getEndTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEndTime</h4>
<pre>public&nbsp;java.util.Date&nbsp;getEndTime()</pre>
<div class="block">Gets the end time for the query. Only blogposts with a date earlier than this date will be returned.
 All dates are UTC.</div>
</li>
</ul>
<a name="setApproved(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setApproved</h4>
<pre>public&nbsp;void&nbsp;setApproved(boolean&nbsp;approved)</pre>
<div class="block">Sets the approved flag for the query. If it is true, only approved blogs will be returned, otherwise
 both approved and unapproved blogs will be returned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>approved</code> - True if you only want approved blogposts in the search result</dd></dl>
</li>
</ul>
<a name="isApproved()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isApproved</h4>
<pre>public&nbsp;boolean&nbsp;isApproved()</pre>
<div class="block">Returns the approved flag for this query as set by setApproved</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The approved flag</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../com/twingly/analytics/Query.html#setApproved(boolean)"><code>setApproved(boolean)</code></a></dd></dl>
</li>
</ul>
<a name="getSearchType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSearchType</h4>
<pre>public&nbsp;<a href="../../../com/twingly/analytics/Query.SearchType.html" title="enum in com.twingly.analytics">Query.SearchType</a>&nbsp;getSearchType()</pre>
<div class="block">Returns the search type (blogs/microblogs)</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The search type</dd></dl>
</li>
</ul>
<a name="setSearchType(com.twingly.analytics.Query.SearchType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSearchType</h4>
<pre>public&nbsp;void&nbsp;setSearchType(<a href="../../../com/twingly/analytics/Query.SearchType.html" title="enum in com.twingly.analytics">Query.SearchType</a>&nbsp;searchType)</pre>
<div class="block">Sets the search type; if you want search results from blogs or microblogs</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>searchType</code> - The search type</dd></dl>
</li>
</ul>
<a name="makeRequest(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>makeRequest</h4>
<pre>public&nbsp;<a href="../../../com/twingly/analytics/Result.html" title="class in com.twingly.analytics">Result</a>&nbsp;makeRequest(java.lang.String&nbsp;search)
                   throws java.io.IOException,
                          org.xml.sax.SAXException</pre>
<div class="block">Makes a request query to the REST API using the parameters you have previously set.
 The search string can include additional modifiers such as link:nytimes.com - see
 <a href="http://twingly.com/help#search">Twingly Help</a> for the syntax.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>search</code> - The search string</dd>
<dt><span class="strong">Returns:</span></dt><dd>The search result</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code> - In case of an IO error (error contacting the http server and so on)</dd>
<dd><code>org.xml.sax.SAXException</code> - In case of malformed XML result</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/twingly/analytics/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/twingly/analytics/Post.html" title="class in com.twingly.analytics"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/twingly/analytics/Query.SearchType.html" title="enum in com.twingly.analytics"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/twingly/analytics/Query.html" target="_top">Frames</a></li>
<li><a href="Query.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
